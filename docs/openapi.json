{"openapi":"3.1.0","info":{"title":"SmartShop API","description":"Commercial Management Web Application API Documentation","contact":{"name":"Pixels Agency","email":"lahcenwirghanec11@gmail.com"},"version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"Bearer Authentication":[]}],"paths":{"/api/products/{id}":{"get":{"tags":["product-controller"],"operationId":"getProductById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResponseDto"}}}}}},"put":{"tags":["product-controller"],"operationId":"updateProduct","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductUpdateRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResponseDto"}}}}}},"delete":{"tags":["product-controller"],"operationId":"deleteProduct","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/clients/{id}":{"get":{"tags":["client-controller"],"operationId":"getClientById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClientResponseDto"}}}}}},"put":{"tags":["client-controller"],"operationId":"updateClient","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClientUpdateRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClientResponseDto"}}}}}},"delete":{"tags":["client-controller"],"operationId":"deleteClient","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/products":{"get":{"tags":["product-controller"],"operationId":"getAllProducts","parameters":[{"name":"name","in":"query","required":false,"schema":{"type":"string"}},{"name":"minPrice","in":"query","required":false,"schema":{"type":"number"}},{"name":"maxPrice","in":"query","required":false,"schema":{"type":"number"}},{"name":"minStock","in":"query","required":false,"schema":{"type":"integer","format":"int32"}},{"name":"maxStock","in":"query","required":false,"schema":{"type":"integer","format":"int32"}},{"name":"deletedStatus","in":"query","required":false,"schema":{"type":"boolean"}},{"name":"inStock","in":"query","required":false,"schema":{"type":"boolean"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagedModelProductResponseDto"}}}}}},"post":{"tags":["product-controller"],"operationId":"createProduct","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductCreateRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResponseDto"}}}}}}},"/api/payments/order/{id}":{"post":{"tags":["payment-controller"],"operationId":"createPayment","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentCreateRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PaymentResponseDto"}}}}}}},"/api/orders":{"get":{"tags":["order-controller"],"operationId":"getAllOrders","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}},{"name":"sortBy","in":"query","required":false,"schema":{"type":"string","default":"orderDate"}},{"name":"direction","in":"query","required":false,"schema":{"type":"string","default":"DESC"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagedModelOrderResponseDto"}}}}}},"post":{"tags":["order-controller"],"operationId":"createOrder","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderCreateRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}}}}},"/api/clients":{"get":{"tags":["client-controller"],"operationId":"listAllClients","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagedModelClientResponseDto"}}}}}},"post":{"tags":["client-controller"],"operationId":"createClient","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClientCreateRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClientMinimalInformationsDto"}}}}}}},"/api/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LoginResponseDto"}}}}}}},"/api/payments/{id}/reject":{"patch":{"tags":["payment-controller"],"operationId":"rejectPayment","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PaymentResponseDto"}}}}}}},"/api/payments/{id}/collect":{"patch":{"tags":["payment-controller"],"operationId":"collectPayment","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PaymentResponseDto"}}}}}}},"/api/orders/{id}/confirm":{"patch":{"tags":["order-controller"],"operationId":"confirmOrder","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}}}}},"/api/orders/{id}/cancel":{"patch":{"tags":["order-controller"],"operationId":"cancelOrder","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}}}}},"/api/payments/order/{orderId}":{"get":{"tags":["payment-controller"],"operationId":"getAllPaymentsByOrderId","parameters":[{"name":"orderId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagedModelPaymentResponseDto"}}}}}}},"/api/orders/{id}":{"get":{"tags":["order-controller"],"operationId":"getOrder","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}}}},"delete":{"tags":["order-controller"],"operationId":"deleteOrder","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/orders/clients/{id}":{"get":{"tags":["order-controller"],"operationId":"myOrders","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagedModelOrderResponseDto"}}}}}}},"/api/clients/{clientId}/orders-history":{"get":{"tags":["client-controller"],"operationId":"getClientOrdersHistory","parameters":[{"name":"clientId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagedModelOrderResponseDto"}}}}}}},"/api/clients/profile/{id}":{"get":{"tags":["client-controller"],"operationId":"getClientProfile","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClientResponseDto"}}}}}}}},"components":{"schemas":{"ProductUpdateRequestDto":{"type":"object","properties":{"name":{"type":"string"},"unitPrice":{"type":"number"},"availableStock":{"type":"integer","format":"int32"}}},"ProductResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"unitPrice":{"type":"number"},"availableStock":{"type":"integer","format":"int32"},"deleted":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"ClientUpdateRequestDto":{"type":"object","properties":{"name":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}}},"ClientResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"email":{"type":"string"},"clientLoyaltyLevel":{"type":"string","enum":["BASIC","SILVER","GOLD","PLATINUM"]},"totalOrders":{"type":"integer","format":"int32"},"totalSpent":{"type":"number"},"firstOrderDate":{"type":"string","format":"date-time"},"lastOrderDate":{"type":"string","format":"date-time"}}},"ProductCreateRequestDto":{"type":"object","properties":{"name":{"type":"string","minLength":1},"unitPrice":{"type":"number","minimum":0.01},"availableStock":{"type":"integer","format":"int32","minimum":0}},"required":["availableStock","name","unitPrice"]},"PaymentCreateRequestDto":{"type":"object","properties":{"amount":{"type":"number","minimum":0.01},"paymentType":{"type":"string","enum":["CASH","CHECK","TRANSFER"]},"referenceNumber":{"type":"string"},"bankName":{"type":"string"},"collectionDate":{"type":"string","format":"date-time"}},"required":["amount","paymentType"]},"PaymentResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"orderId":{"type":"integer","format":"int64"},"paymentNumber":{"type":"integer","format":"int32"},"amount":{"type":"number"},"paymentType":{"type":"string","enum":["CASH","CHECK","TRANSFER"]},"paymentDate":{"type":"string","format":"date-time"},"collectionDate":{"type":"string","format":"date-time"},"status":{"type":"string","enum":["PENDING","COLLECTED","REJECTED"]},"referenceNumber":{"type":"string"},"bankName":{"type":"string"}}},"OrderCreateRequestDto":{"type":"object","properties":{"clientId":{"type":"integer","format":"int64"},"orderItems":{"type":"array","items":{"$ref":"#/components/schemas/OrderItemRequestDto"},"maxItems":2147483647,"minItems":1},"tvaPercentage":{"type":"number","format":"double"},"promoCode":{"type":"string"}},"required":["clientId","orderItems"]},"OrderItemRequestDto":{"type":"object","properties":{"productId":{"type":"integer","format":"int64"},"quantity":{"type":"integer","format":"int32","minimum":1}},"required":["productId","quantity"]},"ClientMinimalInformationsDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"email":{"type":"string"},"clientLoyaltyLevel":{"type":"string","enum":["BASIC","SILVER","GOLD","PLATINUM"]}}},"OrderItemResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"product":{"$ref":"#/components/schemas/ProductResponseDto"},"quantity":{"type":"integer","format":"int32"},"itemTotalAmount":{"type":"number"}}},"OrderResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"client":{"$ref":"#/components/schemas/ClientMinimalInformationsDto"},"orderDate":{"type":"string","format":"date-time"},"subtotal":{"type":"number"},"discountAmount":{"type":"number"},"tvaAmount":{"type":"number"},"tvaPercentage":{"type":"number","format":"double"},"totalAmount":{"type":"number"},"promoCode":{"type":"string"},"status":{"type":"string","enum":["PENDING","CONFIRMED","CANCELED","REJECTED"]},"remainingAmount":{"type":"number"},"orderItems":{"type":"array","items":{"$ref":"#/components/schemas/OrderItemResponseDto"}},"payments":{"type":"array","items":{"$ref":"#/components/schemas/PaymentSummaryDto"}}}},"PaymentSummaryDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"amount":{"type":"number"},"paymentType":{"type":"string","enum":["CASH","CHECK","TRANSFER"]},"paymentDate":{"type":"string","format":"date-time"},"status":{"type":"string","enum":["PENDING","COLLECTED","REJECTED"]}}},"ClientCreateRequestDto":{"type":"object","properties":{"name":{"type":"string","minLength":1},"username":{"type":"string","maxLength":50,"minLength":3},"password":{"type":"string","maxLength":2147483647,"minLength":6},"email":{"type":"string","format":"email","minLength":1}},"required":["email","name","password","username"]},"LoginRequestDto":{"type":"object","properties":{"username":{"type":"string","minLength":1},"password":{"type":"string","minLength":1}},"required":["password","username"]},"LoginResponseDto":{"type":"object","properties":{"token":{"type":"string"},"userId":{"type":"integer","format":"int64"},"username":{"type":"string"},"role":{"type":"string","enum":["CLIENT","ADMIN"]},"message":{"type":"string"},"success":{"type":"boolean"}}},"Pageable":{"type":"object","properties":{"page":{"type":"integer","format":"int32","minimum":0},"size":{"type":"integer","format":"int32","minimum":1},"sort":{"type":"array","items":{"type":"string"}}}},"PageMetadata":{"type":"object","properties":{"size":{"type":"integer","format":"int64"},"number":{"type":"integer","format":"int64"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int64"}}},"PagedModelProductResponseDto":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/ProductResponseDto"}},"page":{"$ref":"#/components/schemas/PageMetadata"}}},"PagedModelPaymentResponseDto":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/PaymentResponseDto"}},"page":{"$ref":"#/components/schemas/PageMetadata"}}},"PagedModelOrderResponseDto":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/OrderResponseDto"}},"page":{"$ref":"#/components/schemas/PageMetadata"}}},"PagedModelClientResponseDto":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/ClientResponseDto"}},"page":{"$ref":"#/components/schemas/PageMetadata"}}}},"securitySchemes":{"Bearer Authentication":{"type":"http","description":"Enter JWT token","scheme":"bearer","bearerFormat":"JWT"}}}}